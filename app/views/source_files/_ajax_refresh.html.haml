:javascript
  function refresh_source_files(){
    $.getJSON("#{url_for ajax_refresh[:path]}", 
              function(data){
                if (data.locked)
                  $.each(data.locked, function(){
                    console.log(this)
                    $("li." + this.id).addClass("locked")
                    $("li." + this.id).removeClass("unlocked")
                  })
                if (data.unlocked)
                  $.each(data.unlocked, function(){
                    console.log(this)
                    $("li." + this.id).addClass("unlocked")
                    $("li." + this.id).removeClass("locked")
                  })
              })
  }
  $(document).ready(function(){
    var interval = setInterval('refresh_source_files()',
                               5000)
  })